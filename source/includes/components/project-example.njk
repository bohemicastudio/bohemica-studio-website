{% from "components/button-project.njk" import buttonProject %}
{% from "components/badge-feature.njk" import badgeFeature %}

{% macro projectExample(project, image='preview.png', imageWrapper='browser', reverse=false, imageSize='50') %}

	<div class="flex py-8 md:py-16 flex-col space-y-8 md:space-y-0 {{ 'md:flex-row-reverse' if reverse else 'md:flex-row' }}">
		<div class="flex relative justify-center items-center w-full md:w-1/2">

			{% if imageWrapper === 'browser' %}

				<div class="flex flex-col w-full h-full lg:px-12">
					<div class="flex justify-between items-center py-2 pr-2 pl-4 bg-cool-gray-900 rounded-t-lg border-t border-r border-l border-cool-gray-500">
						<div class="flex flex-row space-x-2.5">
							<div class="w-3 h-3 bg-red-700 rounded-full"></div>
							<div class="w-3 h-3 bg-amber-700 rounded-full"></div>
							<div class="w-3 h-3 bg-lime-700 rounded-full"></div>
						</div>
						<div class="hidden flex-grow justify-start items-center px-4 mr-4 ml-6 w-8 h-8 rounded-md border border-cool-gray-500 md:flex">
							<a href="https://bohemica.studio/" target="_blank" class="mt-px text-sm text-cool-gray-400 cursor-ne-resize font-dm-mono">https://bohemica.studio/</a>
						</div>
						<button x-on:click="window.mediumZoom.open({ target: document.querySelector('#preview-image-{{ project }}') })" class="hidden justify-center items-center w-8 h-8 text-cool-gray-400 bg-cool-gray-900 rounded-md transition duration-100 ease-linear md:flex focus:outline-none cursor-nesw-resize hover:text-white hover:bg-cool-gray-700 focus:bg-cool-gray-700">
							<i class="gg-arrows-expand-right"></i>
						</button>
					</div>
					<div class="overflow-hidden relative flex-grow bg-cool-gray-900 rounded-b-lg border border-cool-gray-500">
						<div class="opacity-80 transition-opacity duration-150 ease-linear aspect-w-16 aspect-h-10 hover:opacity-100">
							<img id="preview-image-{{ project }}" class="mx-auto w-auto h-full" data-zoom src="/images/project/{{ project }}/{{ image }}">
							<div class="hidden absolute inset-0 justify-end items-end pointer-events-none md:flex">
								<span class="text-cool-gray-50 bg-cool-gray-800 rounded-md px-2.5 py-1 mb-2 mr-2">Final product - Dashboard application</span>
							</div>
						</div>
					</div>
				</div>

			{% elseif imageWrapper === 'screen' %}

				<div class="flex flex-col w-full h-full md:p-6">
					<div class="flex justify-between items-center h-4 bg-cool-gray-900 rounded-t-lg border-t border-r border-l border-cool-gray-500"></div>
					<div class="flex-grow px-2 pb-4 bg-cool-gray-900 border-r border-l border-cool-gray-500">
						<div class="overflow-hidden relative border border-cool-gray-500 opacity-80 transition-opacity duration-150 ease-linear aspect-w-21 aspect-h-10 hover:opacity-100">
							<img id="preview-image-{{ project }}" class="mx-auto w-auto h-full" data-zoom src="/images/project/{{ project }}/{{ image }}">
							<button x-on:click="window.mediumZoom.open({ target: document.querySelector('#preview-image-{{ project }}') })" class="hidden absolute justify-center items-center mt-2 mr-2 mb-auto ml-auto w-8 h-8 text-blue-gray-200 bg-cool-gray-600 rounded-md transition duration-100 ease-linear md:flex focus:outline-none cursor-nesw-resize hover:text-white hover:bg-cool-gray-500 focus:bg-cool-gray-500">
								<i class="gg-arrows-expand-right"></i>
							</button>
							<div class="hidden absolute inset-0 justify-start items-end pointer-events-none md:flex">
								<span class="text-cool-gray-50 bg-cool-gray-800 rounded-md px-2.5 py-1 mb-2 ml-2">Commercial use of the application</span>
							</div>
						</div>
					</div>
					<div class="h-8 bg-cool-gray-800 rounded-b-xl border border-cool-gray-500"></div>
					<div class="self-center w-1/4 h-10 bg-cool-gray-900 border-r border-l border-cool-gray-500"></div>
					<div class="self-center w-1/2 h-4 bg-cool-gray-800 rounded-b-sm rounded-t-md border border-cool-gray-500"></div>
				</div>

			{% elseif imageWrapper === 'phone' %}

				<div class="flex flex-col p-6">
					<div class="flex justify-center items-center pt-5 pb-4 space-x-1 bg-cool-gray-900 rounded-t-3xl border-t border-r border-l border-cool-gray-500">
						<span class="w-10 h-1.5 bg-cool-gray-700 rounded-full"></span>
						<span class="w-1.5 h-1.5 bg-cool-gray-700 rounded-full"></span>
					</div>
					<div class="flex-grow px-2 bg-cool-gray-900 border-r border-l border-cool-gray-500">
						<div class="overflow-hidden relative w-40 rounded-lg border border-cool-gray-500 opacity-80 transition-opacity duration-150 ease-linear sm:w-56 md:w-64 hover:opacity-100">
							<img id="preview-image-{{ project }}" class="mx-auto w-auto" data-zoom src="/images/project/{{ project }}/{{ image }}">
						</div>
					</div>
					<div class="flex justify-center items-center py-4 bg-cool-gray-900 rounded-b-3xl border-r border-b border-l border-cool-gray-500">
						<span class="w-16 h-1 bg-cool-gray-600 rounded-full md:w-24"></span>
					</div>
				</div>

			{% elseif imageWrapper === '3d' %}
				<picture>
					<source srcset="/images/project/{{ project }}/preview-3d.webp" type="image/webp">
					<source srcset="/images/project/{{ project }}/preview-3d.png" type="image/png" >
					<img src="/images/project/{{ project }}/preview-3d-zoom.png" id="preview-image-{{ project }}" class="mx-auto w-auto" style="max-height: calc((0.25vw + 0.5vh + 0.25vmin) * {{ imageSize }})" data-zoom loading="lazy">
				</picture>
			{% endif %}

		</div>

		<div class="flex justify-start items-center w-full md:justify-center md:w-1/2">

			<div class="flex flex-col items-start space-y-10">

				<div class="flex flex-row space-x-4">
					{% for badge in badges %}
						{{ badgeFeature(name=badge.name, icon=badge.icon, link=badge.link) }}
					{% endfor %}
				</div>

				<div class="grid gap-y-3 gap-x-5 font-medium" style="grid-template-columns: min-content auto">
					<span class="text-cool-gray-400 whitespace-nowrap font-dm-mono" x-text="$store['translation.projects'].return('labels.client') + ':'"></span>
					<span class="text-cool-gray-100" x-text="$store['translation.projects'].return(`list['{{ project }}'].client`)"></span>
					<span class="text-cool-gray-400 whitespace-nowrap font-dm-mono" x-text="$store['translation.projects'].return('labels.year') + ':'"></span>
					<span class="text-cool-gray-100" x-text="$store['translation.projects'].return(`list['{{ project }}'].year`)"></span>
					<span class="text-cool-gray-400 whitespace-nowrap font-dm-mono" x-text="$store['translation.projects'].return('labels.type') + ':'"></span>
					<span class="text-cool-gray-100" x-text="$store['translation.projects'].return(`list['{{ project }}'].type`)"></span>
					<span class="text-cool-gray-400 whitespace-nowrap font-dm-mono" x-text="$store['translation.projects'].return('labels.stack') + ':'"></span>
					<span class="text-cool-gray-100" x-text="$store['translation.projects'].return(`list['{{ project }}'].stack`)"></span>
				</div>

				{{ buttonProject() }}
			</div>

		</div>
	</div>

{% endmacro %}

{% macro projectsTranslation() %}
	Spruce.store('translation.projects', {
	en: {
	projectLibrary: 'Project library',
	labels: {
	client: 'Client',
	year: 'Year',
	type: 'Project type',
	stack: 'Stack'
	},
	list: {
	'media-server': {
	client: 'T-Mobile',
	logo: 'logo.svg',
	logoHeight: '12',
	year: 2021,
	type: 'Company website',
	categories: ['Website', 'UI/UX', 'CMS'],
	stack: 'Apostrophe CMS ...'
	},
	'mmt': {
	client: 'MMT s.r.o., Czech Republic',
	logo: 'logo.svg',
	logoHeight: '20',
	year: 2020,
	type: 'Company website',
	categories: ['Website', 'UI/UX', 'CMS'],
	stack: 'Apostrophe CMS ...'
	},
	'lancaster-maloney': {
	client: 'Lancaster Maloney, United Kingdom',
	logo: 'logo.png',
	logoHeight: '12',
	year: 2020,
	type: 'Dashboard management system (FMS/CMMS)',
	categories: ['Dashboard', 'CORS', 'Property management'],
	stack: 'CoreUI, Vue.js, Strapi, CentOS'
	},
	'subtitle-editor': {
	client: 'SlidesLive',
	logo: 'logo.svg',
	logoHeight: '12',
	year: 2020,
	type: 'Company website',
	categories: ['Website', 'UI/UX', 'CMS'],
	stack: 'Apostrophe CMS ...'
	},
	'superflow': {
	client: 'Superflow',
	logo: 'logo.svg',
	logoHeight: '10',
	year: 2020,
	type: 'Company website',
	categories: ['Website', 'UI/UX', 'CMS'],
	stack: 'Apostrophe CMS ...'
	},
	'landing-library': {
	client: 'Various',
	logo: 'logo.svg',
	logoHeight: '10',
	year: false,
	type: 'Company website',
	categories: ['Website', 'UI/UX', 'CMS'],
	stack: 'Apostrophe CMS ...'
	},
	'logos': {
	client: 'Various',
	logo: 'logo.svg',
	logoHeight: '10',
	year: false,
	type: 'Company website',
	categories: ['Website', 'UI/UX', 'CMS'],
	stack: 'Apostrophe CMS ...'
	}
	}
	},
	cs: {
	projectLibrary: 'Knihovna projektu',
	labels: {
	client: 'Klient',
	year: 'Rok',
	type: 'Typ',
	stack: 'Technologie'
	},
	list: {
	'lancaster-maloney': {
	client: 'Lancaster Maloney, Velká Británie',
	year: 2020,
	type: 'Integrovaný systém správy nemovitostí (FMS/CMMS) ??',
	stack: 'CoreUI, Vue.js, Strapi, CentOS'
	}
	}
	},
	return: function (data) {
	return Object.getProperty(Spruce.stores['translation.projects'], Spruce.stores.global.language + '.' + data)
	}
	})
{% endmacro %}
